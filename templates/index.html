<!DOCTYPE html>
<html lang="en">
  <head>
    	<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
		<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.6.2/chart.min.js" 
        integrity="sha512-tMabqarPtykgDtdtSqCL3uLVM0gS1ZkUAVhRFu1vSEFgvB73niFQWJuvviDyBGBH22Lcau4rHB5p2K2T0Xvr6Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
		<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
		<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <title>Project Sound Vibe</title>
  </head>
  <body style = "background-color: lightsteelblue;">
	<div style = "background-color: white;padding-top: 25px;padding-bottom: 10px;">
  	<h1 style = "text-align: left;padding-left: 50px;"> Welcome to Project Sound Vibe </h1>
	<h1 style = "text-align: right;font-size: smaller;padding-top: -50px;padding-right: 20px;"> Created by: Cristian Casas and Samuel Obregon </h1>
	</div>
	<div style = "margin: auto;
	width: 60%;
	border:none;
	padding: 50px;">
	<P>The objective of this project is to find keywords among different songs, so that we can find similarities and contrasts in 
		artist's songs that are different in genre and vibe~.
	</P>
	<div style = "padding-top: 20px;padding-bottom: 20px;">
	<form action="{{ url_for('main') }}" method="POST">
		
	    <fieldset>
			<div style = "font-weight: 500;">
	        <!--<legend>Input Text:</legend>-->
	        Type 3 words here:
	        <input name="user_input_text" type="text" required>
	        <input type="submit" value="Submit">
		</div>
	    </fieldset> 
	  </form>
	</div>

	<div class="alert alert-success" style = "padding: 10px;">
		{% if input_text %} 
			<h4> User text:  {{ input_text }} </h4> 
		{% endif %}
		{% if porky %}
	  		<h4> Below are the artists and their genres </h4>
		{% endif %}
		{% if final %}
	  		<p> {{ final }} </p>
		{% endif %}

	</div>
	</div>
	<div class="col-md-6" style = "margin: auto;
	width: 60%;
	border:none;
	padding: 50px;"> 
		<div class="card card-style mb-2">
			<div class="card-body">
				<div class="chart-container" style="position: relative;">
					<canvas id="the_vibe"></canvas>
				</div>
			</div>
		</div>
	</div>
	{% block javascript %}
	<script>
		let mood_labels = JSON.parse({{ the_labels | tojson }});
		let the_artists = JSON.parse({{ the_vibes | tojson }});
		let the_vibe_chart = new Chart(the_vibe, {
				type: 'pie',
				data: {
				labels: mood_labels,
					datasets: [{
						label: "The Song Vibes",
						data: the_artists,
						backgroundColor: ['#5DA5DA ', '#FAA43A', '#60BD68',
							'#B276B2', '#E16851', '#FB8267', '#4200EA', '#5AEB00', '#EB0033',
						'#EBDF00', '#EB00A8', '#EB0033','#DF00EB', '#46EB00', '#0046EB',
						'#A400EB', '#00BCEB', '#A400EB', '#8D8E38', '#00BCEB','#EB7500',
						'#EB0000', '#00EBEB', '#00EB9C', '#009CEB', '#0000EB', '#7500EB'],
	
						borderWidth: 1,
						hoverBorderColor: "black",
						hoverBorderWidth: 2,
						hoverBackgroundColor: 'rgba(154, 245, 140)',
						pointHoverRadius: 5
					}],
				},
				options: {
						title: {
							display: true,
							text: "The Song Vibes",
							fontSize: 20,
						},
						legend: {
							position: "right",
							 labels: {
								fontColor: "gray"
							},
							display: true,
						},
	
						elements: {
							hitRadius: 3,
						}
				}
			});
		</script>
		{% endblock %}
  </body>
</html>